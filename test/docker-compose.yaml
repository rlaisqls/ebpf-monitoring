version: '3'

services:
  details:
    image: docker.io/istio/examples-bookinfo-details-v1:1.18.0
    ports:
      - "9080:9080"
    labels:
      app: details
      service: details
    environment:
      - LOG_DIR=/tmp/logs

  ratings:
    image: docker.io/istio/examples-bookinfo-ratings-v1:1.18.0
    ports:
      - "9080:9081"
    labels:
      app: ratings
      service: ratings
    environment:
      - LOG_DIR=/tmp/logs

  reviews-v1:
    image: docker.io/istio/examples-bookinfo-reviews-v1:1.18.0
    ports:
      - "9080:9082"
    labels:
      app: reviews
      service: reviews
      version: v1
    environment:
      - LOG_DIR=/tmp/logs

  reviews-v2:
    image: docker.io/istio/examples-bookinfo-reviews-v2:1.18.0
    ports:
      - "9080:9083"
    labels:
      app: reviews
      service: reviews
      version: v2
    environment:
      - LOG_DIR=/tmp/logs

  reviews-v3:
    image: docker.io/istio/examples-bookinfo-reviews-v3:1.18.0
    ports:
      - "9080:9084"
    labels:
      app: reviews
      service: reviews
      version: v3
    environment:
      - LOG_DIR=/tmp/logs

  productpage:
    image: docker.io/istio/examples-bookinfo-productpage-v1:1.18.0
    ports:
      - "9080:9085"
    labels:
      app: productpage
      service: productpage
      version: v1
    environment:
      - LOG_DIR=/tmp/logs
